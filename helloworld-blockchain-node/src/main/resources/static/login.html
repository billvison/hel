<!DOCTYPE html>
<html lang="en">
<head>
    <title>区块链网</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="stylesheet" href="css/common.css" type="text/css">   
</head>
<body>
<div class="nav">
    <div class="container">
		<h1>Helloworld</h1>
		<ul class="nav_menu">
			<li><a href="index.html">首页</a></li>
			<li><a href="search.html">搜索</a></li>
			<li><a href="transaction.html">交易</a></li>
			<li><a href="my.html">个人</a></li>
		</ul>
	</div>
</div>
<div class="container main">
	<ul class="login_frame">
		<li><h1>用户登录</h1></li>
		<li><input type="text" placeholder="请输入用户名" class="c_txt" name="username"></li>
		<li><input type="text" placeholder="请输入密码" class="c_txt" name="password"></li>
		<li><button type="button"class="btn_important" onclick="userLogin()">登录</button></li>
	</ul>
</div>


</body>
<script type="text/javascript" src="js/jQuery.js"></script>
<script type="text/javascript">
	var url = "";
	//用户登录
	function userLogin() {
	    var user = {};
		user.username = $(".login_frame input[name=username]").val();
		user.password = $(".login_frame input[name=password]").val();
	    $.ajax({
	        type: "post",
	        url: url + "/Api/User/login",
	        contentType: "application/json",
	        data: `{
				"userDto":{
							"userName":"${user.username}",
							"password":"${user.password}"
					      }
			}`,
	        dataType: "json",
	        async: false,
	        success: function (data) {
				if (data.serviceCode == "SUCCESS") {
					alert("登录成功");
					window.location = "my.html";
				}else{
					alert(data.message);
				}
	        },
	        error: function (e) {
	        }
	    });
	}
</script>
</html>